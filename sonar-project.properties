# Project identification
sonar.projectKey=IgorGuariroba_bfin-backend
sonar.organization=igorguariroba

# Project metadata
sonar.projectName=BFIN Backend
sonar.projectVersion=1.0.0

# Source code location
sonar.sources=src
sonar.tests=src/tests

# Source encoding
sonar.sourceEncoding=UTF-8

# Language
sonar.language=ts

# TypeScript specific settings
sonar.typescript.node=node_modules
sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Test coverage
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Exclusions - files not to analyze
sonar.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/build/**,\
  **/coverage/**,\
  **/openapi/**,\
  **/sdk/**,\
  **/scripts/**,\
  **/*.spec.ts,\
  **/*.test.ts,\
  **/tests/**/*,\
  **/*.config.ts,\
  **/*.config.js,\
  **/prisma/migrations/**,\
  **/prisma/seed.ts,\
  **/*.d.ts,\
  **/vitest.config.ts,\
  **/prisma.config.ts

# Coverage exclusions - additional files to exclude from coverage metrics
sonar.coverage.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/build/**,\
  **/coverage/**,\
  **/openapi/**,\
  **/sdk/**,\
  **/scripts/**,\
  **/*.spec.ts,\
  **/*.test.ts,\
  **/tests/**/*,\
  **/*.config.ts,\
  **/server.ts,\
  **/prisma/**,\
  **/types/**,\
  **/jobs/**,\
  **/controllers/loanSimulations.controller.ts,\
  **/routes/loanSimulations.routes.ts,\
  **/services/loanSimulationService.ts

# Duplication exclusions
sonar.cpd.exclusions=\
  **/*.spec.ts,\
  **/*.test.ts,\
  **/tests/**/*,\
  **/openapi/**,\
  **/sdk/**,\
  **/scripts/**

# Additional settings
# Let the dedicated quality gate action decide pass/fail in CI.
# Waiting here makes the scan step exit with code 3 on gate failure.
sonar.qualitygate.wait=false
sonar.qualitygate.timeout=300
